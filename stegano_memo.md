# steganoを解く際のメモ

わかってるやつは書かないとして、LSBとIHDRらへんについて書く

## LSB
- 1ピクセル当たり3バイト、もしくは4バイトの色情報の最下位ビットをとるってこと。
- R = 0\~255 8bits, G = 0\~255 8bits, B=0\~225 8bits, (alpha = 0~255 8bits)
- この8bitsの最下位ビットに情報を埋め込んでも特段見た目に変化がないことを利用する
- 現状bmp拡張子しか試してないが、pngでもがんばれば埋め込めるらしい

# IHDR,IDAT,IEND
- 一言でいうとメタ情報。厳密にはメタ情報の構造。中身を見るときは`exiftool`でも使ってくれ
- `pngcheck -v filename`でそのファイルのメタ情報の構造を見ることが可能
  
### まあ三種の神器みたいなもんやな
- IHDR...画像を解釈するための情報
- IDAT...zlibで圧縮されたデータ(色とか）
- IEND...pngの終端を示す

## zlibについて
- IDATにある圧縮されたピクセル情報。つまりは色情報(RGB+A)
- 解凍すればピクセル情報(RGB+A)が見れる
- 解凍ツールとかが世に出回っているが、`convert input.png -depth 8 rgb:out.raw`でbmpと同様なRGBの情報が見れるらしい。

## gifについて
- bmpやpngのLSBについて考えたんだから、gifのLSBも取得できないかなと甘い考えをしていた某、どうやら色の表現方式が異なるらしい。
- bmpやpngはRGB+AでピクセルごとにRGB+Aの情報を持っていたが、gifはパレットという概念があって、絵の具のパレットのように色が定められているらしい(i=0のときR=0,G=255,B=128)など
- gifのピクセルにはRGB+Aの情報が直接入っているのではなく、このパレットに対応したindexが入っているというわけだ
- まあ、パレットの対応表を抜き出して、各ピクセルが持っているindexと照合してみればLSBも抜き出せるってわけ、めんどい
